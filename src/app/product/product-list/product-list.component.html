<!DOCTYPE html>
<html>
<head>
  <title>Produkty</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="product-list.component.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<body style="max-width: 1700px">

<div class="search">
  <app-search
    (searchedTextChanged)="onSearchTextEntered($event)"
  ></app-search>
</div>

<div class="produkt" *ngIf="!checkFilter()">

  <div class="col"  *ngFor="let product of products">
    <div *ngIf="searchText === '' || product.name.toLowerCase().includes(searchText)">
      <form  class="detail" action="#" method="post" >
        <a type="button" class="btn btn-light" data-mdb-ripple-color="dark" href="detail/{{product.id}}"  >
          <img src="{{product.image}}" class="img-thumbnail rounded"
               alt="ski boots" style="width: 300px; height: 250px" />
          <div class="card-body">
            <b class="fa-solid " >{{product.name}}</b>
            <p class="fa-solid " >{{product.description}}</p>
            <p class="fa-regular fa-clock">{{product.price}}</p>
          </div>
        </a>
        <div *ngIf="isAdmin()" >
          <button class="button1" type="button1" (click)="deleteProduct(product.id)">Delete</button>
          <button class="button2" type="button" (click)="updateProduct(product.id)">Udpate</button>
        </div>
      </form>
    </div>

  </div>


  <div *ngIf="isAdmin()" style="bottom: 0">
    <div class="col" >
      <form  class="detail" [formGroup]="formProduct" (submit)="saveProduct()" >
        <div type="button" class="forma" data-mdb-ripple-color="dark" href="#"  >
          <div class="card-body">
            <p class="fa-solid " >Set image link</p>
            <input formControlName="image" type="text">
            <hr>
            <b class="fa-solid " >Set name</b>
            <input class="input" formControlName="name" type="text">
            <p class="fa-solid " >Set description</p>
            <input class="input"  formControlName="description" type="text">
            <p class="fa-regular fa-clock">Set price</p>
            <input class="input"  formControlName="price" type="text">
            <p class="fa-regular fa-clock">Set size</p>
            <input class="input"  formControlName="sizes" type="text">
            <p class="fa-regular fa-clock">Set Type</p>
            <select formControlName="type" id="select1">
              <option value="SKI">SKI</option>
              <option value="SNOWBOARD">SNOWBOARD</option>
              <option value="SKIBOOTS">SKIBOOTS</option>
              <option value="SNOWBOOTS">SNOWBOARD BOOTS</option>
            </select>
            <hr>
            <button class="button3" type="submit" [disabled]="formProduct.invalid">Pridanie prouktu</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>


<div class="produkt" >
  <div class="col"  *ngFor="let filteredProduct of filteredProducts">
    <form  class="detail" action="#" method="post" >
      <a type="button" class="btn btn-light" data-mdb-ripple-color="dark" href="detail/{{filteredProduct.id}}"  >
        <img src="https://m.media-amazon.com/images/W/IMAGERENDERING_521856-T1/images/I/31XlzdWnBZL._AC_UF1000,1000_QL80_.jpg" class="img-thumbnail rounded"
             alt="ski boots" style="width: 300px; height: 250px" />
        <div class="card-body">
          <b class="fa-solid " >{{filteredProduct.name}}</b>
          <p class="fa-solid " >{{filteredProduct.description}}</p>
          <p class="fa-regular fa-clock">{{filteredProduct.price}}</p>
        </div>

      </a>
    </form>
  </div>

</div>


</body>
</html>
